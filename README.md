# Краткое рукводство по работе 
### В панели администратора
1) Создать тип виртуальной машины с следущими параментами **имя тоже должно соответствовать!!!**
![image](https://github.com/kyneccc/ModuleACyber/blob/main/screenshots/flavor.png)
2) загрузить два образа с именами: alt-server-10.4-p10-cloud-x86_64.qcow2 и alt-workstation-10.4-p10-cloud-x86_64.qcow2 **имя образов должно быть точно такими же** скачать их можно [здесь](https://ftp.altlinux.org/pub/distributions/ALTLinux/p10/images/cloud/x86_64/)
![image](https://github.com/kyneccc/ModuleACyber/blob/main/screenshots/server.png) ![image](https://github.com/kyneccc/ModuleACyber/blob/main/screenshots/workstation.png)
> Важно поставить в поле "Использовать во всех проектах"
### В панеле проекта(пользователя)
1) Создать произвольную сеть с любой адресацией(помимомо тех которые будут использоваться в самом стенде включая сеть администрирования 10.100.100.0/24 
2) Создать маршрутизатор (имя произвольное) и добавить туда только что созданную сеть
3) Добавить ssh ключ с любым именем кроме MgVm
4) Создать виртуальную машину. Образ alt-server-10.4-p10-cloud-x86_64.qcow2. Расширить диск до 8гб. Тип ВМ Medium. В сетевых интерфесах добавить интерфейс из только что созданной сети(можно что бы адресация назначалась автоматически). И добавить только что созданный ssh-ключ ![image](https://github.com/kyneccc/ModuleACyber/blob/main/screenshots/vm.png)
5) После создания ВМ добавить ей плавающий ip-адрес

### Внутри машины администратора
1) ```sudo apt-get update && apt-get install git -y```

**2) Обязательно создать отдельный маршрутизатор, еще одну сеть, и плавающий ip  для того что бы можно было получить доступ к машине администратора(имя и адрессация произвольная)** \
**3) Добавить ssh ключ который надо добавить в машину администратора** \
**4) При создании машины администратора необходимо добавить один интерфейс который должен быть из вашей произвольной сети** \
**5) Перед запуском  основного скрипта поменять переменные на ваши в файле con.conf и  проверить есть ли подключение к вашему серверу с кибер ифраструктурой с помощью команды openstack port list --insecure(опцию можно опустить если у вас есть доверие к сертификату)**\
**6) Создать тип ВМ(flavor) с именем start (обязательно с таким же) и загрузить два образа: alt-server-10.4-p10-cloud-x86_64.qcow2 и alt-workstation-10.4-p10-cloud-x86_64.qcow2 имена должны быть строго такими же**\
**7) При запуске скрипта обязательно указать опцией ИМЯ вашей машины администратора (не хостнейм а именно имя как в кибер инфраструктуре соблюдая регистр букв). Если не указать машину администратора вы банально не получите доступ к вм;)**\
```
  bash moduleA.sh AdminVM(имя машины администратора)
```

### Необязательно
**8) Чтобы можно было зайти через консоль самой кибер инфраструктуры можно просто задать пароль пользователю altlinux** \
**9) Файлы из папки bin нельзя класть в разные директории(имя директории может быть любое главное что бы и скрипт и пременные для подключения лежали в ней)**

### При возниккновения каких либо проблем обращaться в [телеграмм](https://t.me/kynecccc)
